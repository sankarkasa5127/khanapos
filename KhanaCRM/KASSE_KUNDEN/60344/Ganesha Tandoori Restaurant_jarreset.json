OLD TSE : a7ce8e85-6013-4091-8e61-0f5bd31a03a5
OLD TSE CLIENT ID: a45accf7-b208-4218-bdf6-62687eae6dba
OLD ADMIN PUK: 8392132594
OLD ADMIN PIN: JAN291993
FISAKLY API KEY: live_cb6zppxj72p32jv7uywgppvxk_khana-kassensystem
------------------------------------------------------------------------
*AUTHENTICATE TOKEN*:

REQUEST:
{
	"api_key": "{{api_key}}",
	"api_secret": "{{api_secret}}"
}
RESPONSE:

{
    "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJTTm5CU0hCTUljQUpBalczaUhDNFRWOTR4MFZCeU00S25LSFJ0eU8tdnBnIn0.eyJleHAiOjE3NDAwMzA3MDUsImlhdCI6MTczOTk0NDMwNSwianRpIjoiYzcyZTBjOGItNGY4NS00OWJiLTk3NzAtYzU5YWFjMTM3NzI0IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmZpc2thbHkuY29tL2F1dGgvcmVhbG1zL2Zpc2thbHkiLCJzdWIiOiJmMDlkMTY4OS0wZTVhLTQwZGEtYjZjOS1lNjhjMTZlNTcwNTciLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJrYXNzZW5zaWNodi1hcGkiLCJzZXNzaW9uX3N0YXRlIjoiMWNkMDc0NTQtNjI4Mi00ZWIxLTgxNmYtOThmMDIwMGMwNGUzIiwic2NvcGUiOiJvcmdhbml6YXRpb24iLCJzaWQiOiIxY2QwNzQ1NC02MjgyLTRlYjEtODE2Zi05OGYwMjAwYzA0ZTMiLCJvcmdhbml6YXRpb24iOiI0ODlhMzgxZS04NjJkLTRiNTItOWI2My1jNGVmMzM5NjIwYWMiLCJ0eXBlIjoiQVBJX0tFWSIsImVudiI6IkxJVkUifQ.arXLssTEUjg52MCHbdzT225-I2BokgLzDIuNMHMKWqRe_eAzzBoc5ZPrZ42HOsz3fyVaLykISa07UDLzBeFZ5_bz4PaF-U_lYaRcRw31MmrGh9zjK-BSXPqtOP7iNVtt59CUBWtmRARlM18pN79EcT9siyLiFIZjLEwx9zFNES3WhXAVXpdQ4S-TVBYWmzj4DX9c3ffiKf3Qvrz8CyAS6nzOF2Iq-oRIGVg7Gnc5UpwPO3EitThQqh4HR0wyHCOrRfjZbRy-8S8U0Yv34HCJgdDYOrUtL9l5Tm1QtbekpPjMl4Llgs_ELD0HoqzLAQMpQDIMi0_Jdh0cXebJrRw4SA",
    "access_token_claims": {
        "env": "LIVE",
        "organization_id": "489a381e-862d-4b52-9b63-c4ef339620ac"
    },
    "access_token_expires_in": 86400,
    "access_token_expires_at": 1740030705,
    "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NDQxMWU1MC00OTVkLTRlMTYtODcyOS04MWIwZjg1YmVmMjYifQ.eyJleHAiOjE3NDAxMTcxMDUsImlhdCI6MTczOTk0NDMwNSwianRpIjoiYzk2MGZlYTktYjM2Mi00NzE3LTgyZWQtZWFkOWU5ZWVlZjdiIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmZpc2thbHkuY29tL2F1dGgvcmVhbG1zL2Zpc2thbHkiLCJhdWQiOiJodHRwczovL2F1dGguZmlza2FseS5jb20vYXV0aC9yZWFsbXMvZmlza2FseSIsInN1YiI6ImYwOWQxNjg5LTBlNWEtNDBkYS1iNmM5LWU2OGMxNmU1NzA1NyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJrYXNzZW5zaWNodi1hcGkiLCJzZXNzaW9uX3N0YXRlIjoiMWNkMDc0NTQtNjI4Mi00ZWIxLTgxNmYtOThmMDIwMGMwNGUzIiwic2NvcGUiOiJvcmdhbml6YXRpb24iLCJzaWQiOiIxY2QwNzQ1NC02MjgyLTRlYjEtODE2Zi05OGYwMjAwYzA0ZTMifQ.OYvpUm5vsoLnqzesb-RJ1jWgJYrsI_YJMJTNOR3Pj38",
    "refresh_token_expires_in": 172800,
    "refresh_token_expires_at": 1740117105
}

-----------------------------------------------------------------
*CREATE TSE*:

REQUEST:
{
    "metadata": {
        "name": "Ganesha Tandoori",
        "address": "Im Prufling 42",
        "address2": "Frankfurt am Main",
        "address3": "",
        "phone": "+49 69 97696945",
        "phone2": "",
        "description":"TSE_Ganesha Tandoori_60389"

    }
}
RESPONSE:

{
    "certificate": "MIIEczCCA/qgAwIBAgIQC5Wy6Hdwfn6m6YI2vHKoVTAKBggqhkjOPQQDAzBFMRswGQYDVQQDExJEQVJaLVRTRS1TVUItQ0EtMDExDTALBgNVBAoTBERBUloxCzAJBgNVBAYTAkRFMQowCAYDVQQFEwEyMB4XDTI0MTAyODA4MzI0NVoXDTMyMTAyODIzNTk1OVowgdQxSTBHBgNVBAMMQEJTSS1EU1otQ0MtMTE1M19CU0ktRFNaLUNDLTExMzBfN0ZBMzIzQTNERUU4NEI0NzgxNjkxNTA3RTFGRURDNzMxFTATBgNVBAoTDGZpc2thbHkgR21iSDEYMBYGA1UELhMPQlNJLURTWi1DQy0xMTUzMUkwRwYDVQQFE0BiODZhMGYyZmM1NmZhNTZmNzZiMWM4MGEyMWE3OGU0NGI4NjEwZWYxMGY5NGJkZTg4OWQ0MjQxZGUzODFkNzAxMQswCQYDVQQGEwJERTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABKhF7vCytukH2HTMWLpBZTK1y9uNwP2gJxpQFztqoxTP4zd8ax6CvzVmHP6DquBfd11Y3G4TRphvIkGkBaxl+AyjggI6MIICNjAfBgNVHSMEGDAWgBRsySR+ZuH5TCT2MIwLaxq4tIczejAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADBaBgNVHSAEUzBRME8GCisGAQQBg5NvAQMwQTA/BggrBgEFBQcCARYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMFQGA1UdEgRNMEuBFHRzZS1yb290LWNhQGRhLXJ6LmRlhjNodHRwczovL3d3dy5kYS1yei5kZS9kZS91ZWJlci1kYXJ6L3VudGVybmVobWVuL3BraS8wgfEGA1UdHwSB6TCB5jByoHCgboZsaHR0cDovL3RzZS1wa2kuZGEtcnoubmV0L3RzZS1wa2kvY3JsP2lzc3VlckROPUNOJTNEREFSWi1UU0UtU1VCLUNBLTAxJTJDTyUzRERBUlolMkNDJTNEREUlMkNTRVJJQUxOVU1CRVIlM0QyMHCgbqBshmpsZGFwOi8vbGRhcC10c2UtcGtpLmRhLXJ6Lm5ldC9zZXJpYWxOdW1iZXI9MixDTj1EQVJaLVRTRS1TVUItQ0EtMDEsREM9REFSWixEQz1ERT9jZXJ0aWZpY2F0ZVJldm9jYXRpb25MaXN0ME8GCCsGAQUFBwEBBEMwQTA/BggrBgEFBQcwAoYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMAoGCCqGSM49BAMDA2cAMGQCMHqCDg+ewtUdUyi0hiGDZYq03EvSAo3TKsHolDrH7AZROXJLuByKA94Tong8i85KwgIwLHf7K2rVzRJsB4i7rGYbb2gu+pwlJUiZBF5DfC5VxMuopNi2p+rtd2dhsn19/Hza",
    "serial_number": "b86a0f2fc56fa56f76b1c80a21a78e44b8610ef10f94bde889d4241de381d701",
    "public_key": "BKhF7vCytukH2HTMWLpBZTK1y9uNwP2gJxpQFztqoxTP4zd8ax6CvzVmHP6DquBfd11Y3G4TRphvIkGkBaxl+Aw=",
    "signature_algorithm": "ecdsa-plain-SHA256",
    "signature_timestamp_format": "unixTime",
    "transaction_data_encoding": "UTF-8",
    "max_number_registered_clients": 199,
    "max_number_active_transactions": 2000,
    "supported_update_variants": "SIGNED",
    "_id": "6c0d6c4a-561d-4a6f-9083-ec35bf769369",
    "_type": "TSS",
    "_env": "LIVE",
    "_version": "2.1.23",
    "time_creation": 1739945089,
    "admin_puk": "0912214948",
    "state": "CREATED",
    "metadata": {
        "name": "Ganesha Tandoori",
        "phone": "+49 69 97696945",
        "phone2": "",
        "address": "Im Prufling 42",
        "address2": "Frankfurt am Main",
        "address3": "",
        "description": "TSE_Ganesha Tandoori_60389"
    }
}

---------------------------------------------------------------------------------
*PERSONALIZE TSS*:

REQUEST:
{
    "state": "UNINITIALIZED"
}
RESPONSE:
{
    "_id": "6c0d6c4a-561d-4a6f-9083-ec35bf769369",
    "state": "UNINITIALIZED",
    "time_creation": 1739945089,
    "time_uninit": 1739945240,
    "certificate": "MIIEczCCA/qgAwIBAgIQC5Wy6Hdwfn6m6YI2vHKoVTAKBggqhkjOPQQDAzBFMRswGQYDVQQDExJEQVJaLVRTRS1TVUItQ0EtMDExDTALBgNVBAoTBERBUloxCzAJBgNVBAYTAkRFMQowCAYDVQQFEwEyMB4XDTI0MTAyODA4MzI0NVoXDTMyMTAyODIzNTk1OVowgdQxSTBHBgNVBAMMQEJTSS1EU1otQ0MtMTE1M19CU0ktRFNaLUNDLTExMzBfN0ZBMzIzQTNERUU4NEI0NzgxNjkxNTA3RTFGRURDNzMxFTATBgNVBAoTDGZpc2thbHkgR21iSDEYMBYGA1UELhMPQlNJLURTWi1DQy0xMTUzMUkwRwYDVQQFE0BiODZhMGYyZmM1NmZhNTZmNzZiMWM4MGEyMWE3OGU0NGI4NjEwZWYxMGY5NGJkZTg4OWQ0MjQxZGUzODFkNzAxMQswCQYDVQQGEwJERTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABKhF7vCytukH2HTMWLpBZTK1y9uNwP2gJxpQFztqoxTP4zd8ax6CvzVmHP6DquBfd11Y3G4TRphvIkGkBaxl+AyjggI6MIICNjAfBgNVHSMEGDAWgBRsySR+ZuH5TCT2MIwLaxq4tIczejAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADBaBgNVHSAEUzBRME8GCisGAQQBg5NvAQMwQTA/BggrBgEFBQcCARYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMFQGA1UdEgRNMEuBFHRzZS1yb290LWNhQGRhLXJ6LmRlhjNodHRwczovL3d3dy5kYS1yei5kZS9kZS91ZWJlci1kYXJ6L3VudGVybmVobWVuL3BraS8wgfEGA1UdHwSB6TCB5jByoHCgboZsaHR0cDovL3RzZS1wa2kuZGEtcnoubmV0L3RzZS1wa2kvY3JsP2lzc3VlckROPUNOJTNEREFSWi1UU0UtU1VCLUNBLTAxJTJDTyUzRERBUlolMkNDJTNEREUlMkNTRVJJQUxOVU1CRVIlM0QyMHCgbqBshmpsZGFwOi8vbGRhcC10c2UtcGtpLmRhLXJ6Lm5ldC9zZXJpYWxOdW1iZXI9MixDTj1EQVJaLVRTRS1TVUItQ0EtMDEsREM9REFSWixEQz1ERT9jZXJ0aWZpY2F0ZVJldm9jYXRpb25MaXN0ME8GCCsGAQUFBwEBBEMwQTA/BggrBgEFBQcwAoYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMAoGCCqGSM49BAMDA2cAMGQCMHqCDg+ewtUdUyi0hiGDZYq03EvSAo3TKsHolDrH7AZROXJLuByKA94Tong8i85KwgIwLHf7K2rVzRJsB4i7rGYbb2gu+pwlJUiZBF5DfC5VxMuopNi2p+rtd2dhsn19/Hza",
    "bsi_certification_id": "0403-2021",
    "serial_number": "b86a0f2fc56fa56f76b1c80a21a78e44b8610ef10f94bde889d4241de381d701",
    "public_key": "BKhF7vCytukH2HTMWLpBZTK1y9uNwP2gJxpQFztqoxTP4zd8ax6CvzVmHP6DquBfd11Y3G4TRphvIkGkBaxl+Aw=",
    "signature_counter": "120",
    "signature_algorithm": "ecdsa-plain-SHA256",
    "signature_timestamp_format": "unixTime",
    "transaction_data_encoding": "UTF-8",
    "number_registered_clients": 0,
    "max_number_registered_clients": 199,
    "number_active_transactions": 0,
    "max_number_active_transactions": 2000,
    "supported_update_variants": "SIGNED",
    "metadata": {
        "address": "Im Prufling 42",
        "address2": "Frankfurt am Main",
        "description": "TSE_Ganesha Tandoori_60389",
        "name": "Ganesha Tandoori",
        "phone": "+49 69 97696945"
    },
    "_type": "TSS",
    "_env": "LIVE",
    "_version": "2.1.23"
}

-------------------------------------------------------------------------------
*CHANGING ADMIN PIN*:
{
    "admin_puk": "{{adminPuk}}",
    "new_admin_pin": "1234567"
}
REQUEST:
{
    "admin_puk": "{{adminPuk}}",
    "new_admin_pin": ""
}
RESPONSE:
{}
--------------------------------------------------------------------------------
*AUTHENTICATE ADMIN*:

{
	"admin_pin": "1234567"
}
REQUEST:
{}
RESPONSE:

-------------------------------------------------------------------------------
*INTIALIZE TSS*:



REQUEST:
{
    "state": "INITIALIZED"
}
RESPONSE:
{
    "_id": "6c0d6c4a-561d-4a6f-9083-ec35bf769369",
    "description": "fiskaly sign cloud-TSE (6c0d6c4a-561d-4a6f-9083-ec35bf769369)",
    "state": "INITIALIZED",
    "time_creation": 1739945089,
    "time_uninit": 1739945240,
    "time_init": 1739945573,
    "certificate": "MIIEczCCA/qgAwIBAgIQC5Wy6Hdwfn6m6YI2vHKoVTAKBggqhkjOPQQDAzBFMRswGQYDVQQDExJEQVJaLVRTRS1TVUItQ0EtMDExDTALBgNVBAoTBERBUloxCzAJBgNVBAYTAkRFMQowCAYDVQQFEwEyMB4XDTI0MTAyODA4MzI0NVoXDTMyMTAyODIzNTk1OVowgdQxSTBHBgNVBAMMQEJTSS1EU1otQ0MtMTE1M19CU0ktRFNaLUNDLTExMzBfN0ZBMzIzQTNERUU4NEI0NzgxNjkxNTA3RTFGRURDNzMxFTATBgNVBAoTDGZpc2thbHkgR21iSDEYMBYGA1UELhMPQlNJLURTWi1DQy0xMTUzMUkwRwYDVQQFE0BiODZhMGYyZmM1NmZhNTZmNzZiMWM4MGEyMWE3OGU0NGI4NjEwZWYxMGY5NGJkZTg4OWQ0MjQxZGUzODFkNzAxMQswCQYDVQQGEwJERTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABKhF7vCytukH2HTMWLpBZTK1y9uNwP2gJxpQFztqoxTP4zd8ax6CvzVmHP6DquBfd11Y3G4TRphvIkGkBaxl+AyjggI6MIICNjAfBgNVHSMEGDAWgBRsySR+ZuH5TCT2MIwLaxq4tIczejAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADBaBgNVHSAEUzBRME8GCisGAQQBg5NvAQMwQTA/BggrBgEFBQcCARYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMFQGA1UdEgRNMEuBFHRzZS1yb290LWNhQGRhLXJ6LmRlhjNodHRwczovL3d3dy5kYS1yei5kZS9kZS91ZWJlci1kYXJ6L3VudGVybmVobWVuL3BraS8wgfEGA1UdHwSB6TCB5jByoHCgboZsaHR0cDovL3RzZS1wa2kuZGEtcnoubmV0L3RzZS1wa2kvY3JsP2lzc3VlckROPUNOJTNEREFSWi1UU0UtU1VCLUNBLTAxJTJDTyUzRERBUlolMkNDJTNEREUlMkNTRVJJQUxOVU1CRVIlM0QyMHCgbqBshmpsZGFwOi8vbGRhcC10c2UtcGtpLmRhLXJ6Lm5ldC9zZXJpYWxOdW1iZXI9MixDTj1EQVJaLVRTRS1TVUItQ0EtMDEsREM9REFSWixEQz1ERT9jZXJ0aWZpY2F0ZVJldm9jYXRpb25MaXN0ME8GCCsGAQUFBwEBBEMwQTA/BggrBgEFBQcwAoYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMAoGCCqGSM49BAMDA2cAMGQCMHqCDg+ewtUdUyi0hiGDZYq03EvSAo3TKsHolDrH7AZROXJLuByKA94Tong8i85KwgIwLHf7K2rVzRJsB4i7rGYbb2gu+pwlJUiZBF5DfC5VxMuopNi2p+rtd2dhsn19/Hza",
    "bsi_certification_id": "0403-2021",
    "serial_number": "b86a0f2fc56fa56f76b1c80a21a78e44b8610ef10f94bde889d4241de381d701",
    "public_key": "BKhF7vCytukH2HTMWLpBZTK1y9uNwP2gJxpQFztqoxTP4zd8ax6CvzVmHP6DquBfd11Y3G4TRphvIkGkBaxl+Aw=",
    "signature_counter": "126",
    "signature_algorithm": "ecdsa-plain-SHA256",
    "signature_timestamp_format": "unixTime",
    "transaction_data_encoding": "UTF-8",
    "number_registered_clients": 0,
    "max_number_registered_clients": 199,
    "number_active_transactions": 0,
    "max_number_active_transactions": 2000,
    "supported_update_variants": "SIGNED",
    "metadata": {
        "address": "Im Prufling 42",
        "address2": "Frankfurt am Main",
        "description": "TSE_Ganesha Tandoori_60389",
        "name": "Ganesha Tandoori",
        "phone": "+49 69 97696945"
    },
    "_type": "TSS",
    "_env": "LIVE",
    "_version": "2.1.23"
}

------------------------------------------------------------------------------
*CREATE CLINET*:

REQUEST:
{
    "serial_number": "3d45b258-4ea7-4101-b634-ea1da87519ad"
}
RESPONSE:

{
    "_id": "3d45b258-4ea7-4101-b634-ea1da87519ad",
    "state": "REGISTERED",
    "serial_number": "3d45b258-4ea7-4101-b634-ea1da87519ad",
    "time_creation": 1739945786,
    "tss_id": "6c0d6c4a-561d-4a6f-9083-ec35bf769369",
    "_type": "CLIENT",
    "_env": "LIVE",
    "_version": "2.1.23"
}

------------------------------------------------------------------------------------------------

FISKLAY API KEY: live_4aqimuaft9rwx4vybj682oqzw_ganeshatandoori-1487002465
FISKALY API SECRET: a4lbK13kVIuGbG2aBHJqjKFkRtzgHmQNh7D5dRvMvr1
TSE ID: 6c0d6c4a-561d-4a6f-9083-ec35bf769369
TSE CLIENT ID: 3d45b258-4ea7-4101-b634-ea1da87519ad
ADMIN PUK: 0912214948
ADMIN PIN: 1234567
