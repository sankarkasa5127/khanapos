Naan-N-Curry

API_KEY: live_sijy53r7ae6fnnww649ev0qp_naan-n-curry-16521104957
API_SECRET: 51NH0e0sD0PlNQvKYFkvuO5GmbYNgIdhnA6CKAfASQo

step 1:
request:
{
	"api_key": "{{api_key}}",
	"api_secret": "{{api_secret}}"
}
response:
{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJTTm5CU0hCTUljQUpBalczaUhDNFRWOTR4MFZCeU00S25LSFJ0eU8tdnBnIn0.eyJleHAiOjE3MzgzOTQ4MTcsImlhdCI6MTczODMwODQxNywianRpIjoiODIzMzJkNjEtMjNjNS00OGE0LThhMjUtZDU5NDBlOWE0MDdmIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmZpc2thbHkuY29tL2F1dGgvcmVhbG1zL2Zpc2thbHkiLCJzdWIiOiI0NjE0OGE2ZS1lNzRkLTQ3ZWYtYTMyNS00NTdkZjk4MTA0MDkiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJrYXNzZW5zaWNodi1hcGkiLCJzZXNzaW9uX3N0YXRlIjoiNGE5NzU3MzQtMGE4Ny00MDllLWI1OGMtZjgwZmRlNTMyYmU0Iiwic2NvcGUiOiJvcmdhbml6YXRpb24iLCJzaWQiOiI0YTk3NTczNC0wYTg3LTQwOWUtYjU4Yy1mODBmZGU1MzJiZTQiLCJvcmdhbml6YXRpb24iOiIwZDYxMjFkZi05NzY2LTQzYzUtYmQyNS0zMzdjYzVlZTY3ODEiLCJ0eXBlIjoiQVBJX0tFWSIsImVudiI6IkxJVkUifQ.S9zp16exMd53idQHoo6QFKfSmQitVJSYLpoR6mP-i99PH2CxbPZEuCtcVgkN0D9Vm77F5g6UR7o3ZCnYhk9dj61rHJ1fc4tlvtUk2E8gad1fDct1UJ2kRMSqAI6dUCwxFmfE9u1naBtl1NwcPgATiVU-ncWNUNXC6dWLKx7Uyp7LQQ6G903rlD-a3OHJXOzPpLDkjc8kh55BmomKZbYaZA2jhOoQjGCnXA915Qh7RigVxw4o4L2UpbYD_hX5qcbFn0-ELAcdIjKugwcGwa4kq8e288VKHXx-loGDNPMG-qTGCgUVt_cMFAd50ykjc2kqj6vEHhMJsr_G7CNwmcAvTQ","access_token_claims":{"env":"LIVE","organization_id":"0d6121df-9766-43c5-bd25-337cc5ee6781"},"access_token_expires_in":86400,"access_token_expires_at":1738394817,"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NDQxMWU1MC00OTVkLTRlMTYtODcyOS04MWIwZjg1YmVmMjYifQ.eyJleHAiOjE3Mzg0ODEyMTcsImlhdCI6MTczODMwODQxNywianRpIjoiYTJiMjY5MTItNGE1Ny00NGZlLTg2OWEtY2M1ZDc2ZjhjMTgyIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmZpc2thbHkuY29tL2F1dGgvcmVhbG1zL2Zpc2thbHkiLCJhdWQiOiJodHRwczovL2F1dGguZmlza2FseS5jb20vYXV0aC9yZWFsbXMvZmlza2FseSIsInN1YiI6IjQ2MTQ4YTZlLWU3NGQtNDdlZi1hMzI1LTQ1N2RmOTgxMDQwOSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJrYXNzZW5zaWNodi1hcGkiLCJzZXNzaW9uX3N0YXRlIjoiNGE5NzU3MzQtMGE4Ny00MDllLWI1OGMtZjgwZmRlNTMyYmU0Iiwic2NvcGUiOiJvcmdhbml6YXRpb24iLCJzaWQiOiI0YTk3NTczNC0wYTg3LTQwOWUtYjU4Yy1mODBmZGU1MzJiZTQifQ.aLAL8sQenbfP4VLhxvS93EItcnxA6A19d3uCIFwfD3Q","refresh_token_expires_in":172800,"refresh_token_expires_at":1738481217}

step 2:create TSS:
request:
{
    "metadata": {
        "name": "Naan-N-Curry",
        "address": "naancurry-saalfeld.de",
        "address2": "Blankenburger Str. 8",
        "address3": "Saalfeld / Saale",
        "phone": "036714606896",
        "phone2": "",
        "description":"TSE_Naan-N-Curry_07318"

    }
}
response:
{"certificate":"MIIEdDCCA/qgAwIBAgIQArHJSLl4CydKse29A6d/njAKBggqhkjOPQQDAzBFMRswGQYDVQQDExJEQVJaLVRTRS1TVUItQ0EtMDExDTALBgNVBAoTBERBUloxCzAJBgNVBAYTAkRFMQowCAYDVQQFEwEyMB4XDTI0MTAyNTEzMDgwNFoXDTMyMTAyNTIzNTk1OVowgdQxSTBHBgNVBAMMQEJTSS1EU1otQ0MtMTE1M19CU0ktRFNaLUNDLTExMzBfODQ2Q0I1QTNFOUE1NEFFMTg2MUFCOTE3MDE4MUVCNjYxFTATBgNVBAoTDGZpc2thbHkgR21iSDEYMBYGA1UELhMPQlNJLURTWi1DQy0xMTUzMUkwRwYDVQQFE0AyNWU5NWQ4NmUwZTQzZTRkN2VlNGUzMjFlNDk5NTlhY2I2ZGJiYWU0MmFkZjRjMGU1ZTVjOTlhYTY2MTFmODUyMQswCQYDVQQGEwJERTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABNtS+pZ6+zki3WL8ZSmNPiRpsBiHSgwiaKNb+EN1Jfr0Q4WIiUhANM2QMI9NHG0/E8Y5xtVMNAHNuI8JgoPqzK6jggI6MIICNjAfBgNVHSMEGDAWgBRsySR+ZuH5TCT2MIwLaxq4tIczejAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADBaBgNVHSAEUzBRME8GCisGAQQBg5NvAQMwQTA/BggrBgEFBQcCARYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMFQGA1UdEgRNMEuBFHRzZS1yb290LWNhQGRhLXJ6LmRlhjNodHRwczovL3d3dy5kYS1yei5kZS9kZS91ZWJlci1kYXJ6L3VudGVybmVobWVuL3BraS8wgfEGA1UdHwSB6TCB5jByoHCgboZsaHR0cDovL3RzZS1wa2kuZGEtcnoubmV0L3RzZS1wa2kvY3JsP2lzc3VlckROPUNOJTNEREFSWi1UU0UtU1VCLUNBLTAxJTJDTyUzRERBUlolMkNDJTNEREUlMkNTRVJJQUxOVU1CRVIlM0QyMHCgbqBshmpsZGFwOi8vbGRhcC10c2UtcGtpLmRhLXJ6Lm5ldC9zZXJpYWxOdW1iZXI9MixDTj1EQVJaLVRTRS1TVUItQ0EtMDEsREM9REFSWixEQz1ERT9jZXJ0aWZpY2F0ZVJldm9jYXRpb25MaXN0ME8GCCsGAQUFBwEBBEMwQTA/BggrBgEFBQcwAoYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMAoGCCqGSM49BAMDA2gAMGUCMC+ATV0brv0e7NAYiswnDQvUZbabUrNO8hYMljvuLcPK4RrITymxmFwZmULhyDJ5zgIxAIMhHSrCn1ubTyxRN2fZLHvgEiVhq/knoUbm68lcBinRMVJbmjcMEzv2R8ug5ra6fg==","serial_number":"25e95d86e0e43e4d7ee4e321e49959acb6dbbae42adf4c0e5e5c99aa6611f852","public_key":"BNtS+pZ6+zki3WL8ZSmNPiRpsBiHSgwiaKNb+EN1Jfr0Q4WIiUhANM2QMI9NHG0/E8Y5xtVMNAHNuI8JgoPqzK4=","signature_algorithm":"ecdsa-plain-SHA256","signature_timestamp_format":"unixTime","transaction_data_encoding":"UTF-8","max_number_registered_clients":199,"max_number_active_transactions":2000,"supported_update_variants":"SIGNED","_id":"8ca9435e-b846-4783-94f0-596610f7c6fc","_type":"TSS","_env":"LIVE","_version":"2.1.22","time_creation":1738308672,"admin_puk":"5772396851","state":"CREATED","metadata":{"name":"Naan-N-Curry","phone":"036714606896","phone2":"","address":"naancurry-saalfeld.de","address2":"Blankenburger Str. 8","address3":"Saalfeld / Saale","description":"TSE_Naan-N-Curry_07318"}}

step 3: personalize TSS
request:
{
    "state": "UNINITIALIZED"
}

response:
{"_id":"8ca9435e-b846-4783-94f0-596610f7c6fc","state":"UNINITIALIZED","time_creation":1738308672,"time_uninit":1738308809,"certificate":"MIIEdDCCA/qgAwIBAgIQArHJSLl4CydKse29A6d/njAKBggqhkjOPQQDAzBFMRswGQYDVQQDExJEQVJaLVRTRS1TVUItQ0EtMDExDTALBgNVBAoTBERBUloxCzAJBgNVBAYTAkRFMQowCAYDVQQFEwEyMB4XDTI0MTAyNTEzMDgwNFoXDTMyMTAyNTIzNTk1OVowgdQxSTBHBgNVBAMMQEJTSS1EU1otQ0MtMTE1M19CU0ktRFNaLUNDLTExMzBfODQ2Q0I1QTNFOUE1NEFFMTg2MUFCOTE3MDE4MUVCNjYxFTATBgNVBAoTDGZpc2thbHkgR21iSDEYMBYGA1UELhMPQlNJLURTWi1DQy0xMTUzMUkwRwYDVQQFE0AyNWU5NWQ4NmUwZTQzZTRkN2VlNGUzMjFlNDk5NTlhY2I2ZGJiYWU0MmFkZjRjMGU1ZTVjOTlhYTY2MTFmODUyMQswCQYDVQQGEwJERTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABNtS+pZ6+zki3WL8ZSmNPiRpsBiHSgwiaKNb+EN1Jfr0Q4WIiUhANM2QMI9NHG0/E8Y5xtVMNAHNuI8JgoPqzK6jggI6MIICNjAfBgNVHSMEGDAWgBRsySR+ZuH5TCT2MIwLaxq4tIczejAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADBaBgNVHSAEUzBRME8GCisGAQQBg5NvAQMwQTA/BggrBgEFBQcCARYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMFQGA1UdEgRNMEuBFHRzZS1yb290LWNhQGRhLXJ6LmRlhjNodHRwczovL3d3dy5kYS1yei5kZS9kZS91ZWJlci1kYXJ6L3VudGVybmVobWVuL3BraS8wgfEGA1UdHwSB6TCB5jByoHCgboZsaHR0cDovL3RzZS1wa2kuZGEtcnoubmV0L3RzZS1wa2kvY3JsP2lzc3VlckROPUNOJTNEREFSWi1UU0UtU1VCLUNBLTAxJTJDTyUzRERBUlolMkNDJTNEREUlMkNTRVJJQUxOVU1CRVIlM0QyMHCgbqBshmpsZGFwOi8vbGRhcC10c2UtcGtpLmRhLXJ6Lm5ldC9zZXJpYWxOdW1iZXI9MixDTj1EQVJaLVRTRS1TVUItQ0EtMDEsREM9REFSWixEQz1ERT9jZXJ0aWZpY2F0ZVJldm9jYXRpb25MaXN0ME8GCCsGAQUFBwEBBEMwQTA/BggrBgEFBQcwAoYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMAoGCCqGSM49BAMDA2gAMGUCMC+ATV0brv0e7NAYiswnDQvUZbabUrNO8hYMljvuLcPK4RrITymxmFwZmULhyDJ5zgIxAIMhHSrCn1ubTyxRN2fZLHvgEiVhq/knoUbm68lcBinRMVJbmjcMEzv2R8ug5ra6fg==","bsi_certification_id":"0403-2021","serial_number":"25e95d86e0e43e4d7ee4e321e49959acb6dbbae42adf4c0e5e5c99aa6611f852","public_key":"BNtS+pZ6+zki3WL8ZSmNPiRpsBiHSgwiaKNb+EN1Jfr0Q4WIiUhANM2QMI9NHG0/E8Y5xtVMNAHNuI8JgoPqzK4=","signature_counter":"104","signature_algorithm":"ecdsa-plain-SHA256","signature_timestamp_format":"unixTime","transaction_data_encoding":"UTF-8","number_registered_clients":0,"max_number_registered_clients":199,"number_active_transactions":0,"max_number_active_transactions":2000,"supported_update_variants":"SIGNED","metadata":{"address":"naancurry-saalfeld.de","address2":"Blankenburger Str. 8","address3":"Saalfeld / Saale","description":"TSE_Naan-N-Curry_07318","name":"Naan-N-Curry","phone":"036714606896"},"_type":"TSS","_env":"LIVE","_version":"2.1.22"}

step 4: changing adminpin
request:
{
    "admin_puk": "{{adminPuk}}",
    "new_admin_pin": "990022"
}
response:
{}

step 5: autheticate adminpin
request:
{
	"admin_pin": "990022"
}
response:
{}
step 6: initialiazed
request:
{
    "state": "INITIALIZED"
}
response:
{"_id":"8ca9435e-b846-4783-94f0-596610f7c6fc","description":"fiskaly sign cloud-TSE (8ca9435e-b846-4783-94f0-596610f7c6fc)","state":"INITIALIZED","time_creation":1738308672,"time_uninit":1738308809,"time_init":1738309078,"certificate":"MIIEdDCCA/qgAwIBAgIQArHJSLl4CydKse29A6d/njAKBggqhkjOPQQDAzBFMRswGQYDVQQDExJEQVJaLVRTRS1TVUItQ0EtMDExDTALBgNVBAoTBERBUloxCzAJBgNVBAYTAkRFMQowCAYDVQQFEwEyMB4XDTI0MTAyNTEzMDgwNFoXDTMyMTAyNTIzNTk1OVowgdQxSTBHBgNVBAMMQEJTSS1EU1otQ0MtMTE1M19CU0ktRFNaLUNDLTExMzBfODQ2Q0I1QTNFOUE1NEFFMTg2MUFCOTE3MDE4MUVCNjYxFTATBgNVBAoTDGZpc2thbHkgR21iSDEYMBYGA1UELhMPQlNJLURTWi1DQy0xMTUzMUkwRwYDVQQFE0AyNWU5NWQ4NmUwZTQzZTRkN2VlNGUzMjFlNDk5NTlhY2I2ZGJiYWU0MmFkZjRjMGU1ZTVjOTlhYTY2MTFmODUyMQswCQYDVQQGEwJERTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABNtS+pZ6+zki3WL8ZSmNPiRpsBiHSgwiaKNb+EN1Jfr0Q4WIiUhANM2QMI9NHG0/E8Y5xtVMNAHNuI8JgoPqzK6jggI6MIICNjAfBgNVHSMEGDAWgBRsySR+ZuH5TCT2MIwLaxq4tIczejAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADBaBgNVHSAEUzBRME8GCisGAQQBg5NvAQMwQTA/BggrBgEFBQcCARYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMFQGA1UdEgRNMEuBFHRzZS1yb290LWNhQGRhLXJ6LmRlhjNodHRwczovL3d3dy5kYS1yei5kZS9kZS91ZWJlci1kYXJ6L3VudGVybmVobWVuL3BraS8wgfEGA1UdHwSB6TCB5jByoHCgboZsaHR0cDovL3RzZS1wa2kuZGEtcnoubmV0L3RzZS1wa2kvY3JsP2lzc3VlckROPUNOJTNEREFSWi1UU0UtU1VCLUNBLTAxJTJDTyUzRERBUlolMkNDJTNEREUlMkNTRVJJQUxOVU1CRVIlM0QyMHCgbqBshmpsZGFwOi8vbGRhcC10c2UtcGtpLmRhLXJ6Lm5ldC9zZXJpYWxOdW1iZXI9MixDTj1EQVJaLVRTRS1TVUItQ0EtMDEsREM9REFSWixEQz1ERT9jZXJ0aWZpY2F0ZVJldm9jYXRpb25MaXN0ME8GCCsGAQUFBwEBBEMwQTA/BggrBgEFBQcwAoYzaHR0cHM6Ly93d3cuZGEtcnouZGUvZGUvdWViZXItZGFyei91bnRlcm5laG1lbi9wa2kvMAoGCCqGSM49BAMDA2gAMGUCMC+ATV0brv0e7NAYiswnDQvUZbabUrNO8hYMljvuLcPK4RrITymxmFwZmULhyDJ5zgIxAIMhHSrCn1ubTyxRN2fZLHvgEiVhq/knoUbm68lcBinRMVJbmjcMEzv2R8ug5ra6fg==","bsi_certification_id":"0403-2021","serial_number":"25e95d86e0e43e4d7ee4e321e49959acb6dbbae42adf4c0e5e5c99aa6611f852","public_key":"BNtS+pZ6+zki3WL8ZSmNPiRpsBiHSgwiaKNb+EN1Jfr0Q4WIiUhANM2QMI9NHG0/E8Y5xtVMNAHNuI8JgoPqzK4=","signature_counter":"110","signature_algorithm":"ecdsa-plain-SHA256","signature_timestamp_format":"unixTime","transaction_data_encoding":"UTF-8","number_registered_clients":0,"max_number_registered_clients":199,"number_active_transactions":0,"max_number_active_transactions":2000,"supported_update_variants":"SIGNED","metadata":{"address":"naancurry-saalfeld.de","address2":"Blankenburger Str. 8","address3":"Saalfeld / Saale","description":"TSE_Naan-N-Curry_07318","name":"Naan-N-Curry","phone":"036714606896"},"_type":"TSS","_env":"LIVE","_version":"2.1.22"}

step 7: create client
request:
{
	"serial_number": "{{$guid}}"
}
response:
{"_id":"248110ff-6ef9-4af6-8074-881fd620e323","state":"REGISTERED","serial_number":"a3a9f1d9-4538-46a4-a451-c3795e861be9","time_creation":1738309215,"tss_id":"8ca9435e-b846-4783-94f0-596610f7c6fc","_type":"CLIENT","_env":"LIVE","_version":"2.1.22"}


TSE_ID:8ca9435e-b846-4783-94f0-596610f7c6fc
TSE_CLIENT_ID:248110ff-6ef9-4af6-8074-881fd620e323
ADMIN_PIN:990022
ADMIN_PUK:5772396851